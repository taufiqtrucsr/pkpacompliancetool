
<!DOCTYPE HTML>
<html lang="en-gb">
	<head>
		<title>truCSR - Donation Report 2  </title>
		<meta charset="UTF-8">
		<meta name="Generator" content="EditPlus">
		<meta name="Author" content="">
		<meta name="Keywords" content="">
		<meta name="Description" content="">
		
		<meta property="og:image" content="" />
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
				<!--link href="skin/admin/css/styles.css" rel="stylesheet" type="text/css" /-->
				<!-- <script type="text/javascript" src="		skin/tinymce/jscripts/tiny_mce/plugins/ezfilemanager/js/ez_tinyMCE.js"></script> -->
		
		<script type="text/javascript" src="https://www.staging.trucsr.in/skin/tinymce/tiny_mce/tiny_mce.js"></script>
		<script type="text/javascript" src="https://www.staging.trucsr.in/skin/tinymce/init.js"></script>
		
		<!--script src="https://code.jquery.com/jquery-1.11.1.min.js"></script-->
		
		<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
		
		<script type="text/javascript">  var BASE_URL = 'https://www.staging.trucsr.in/';</script>

		<!-- bootstrap 3 cdn --><!-- Latest compiled and minified CSS -->

		<!-- Plugins css -->
		<link href="https://www.staging.trucsr.in/skin/admin/assets/libs/flatpickr/flatpickr.min.css" rel="stylesheet" type="text/css" />
		<link href="https://www.staging.trucsr.in/skin/admin/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
		<link href="https://www.staging.trucsr.in/skin/admin/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
		<link href="https://www.staging.trucsr.in/skin/admin/assets/css/app.min.css" rel="stylesheet" type="text/css" />
		<link rel="stylesheet" href="https://www.staging.trucsr.in/skin/css/datepicker.css" >
		<link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/themes/base/jquery-ui.css" rel="stylesheet" />
		<link href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css" rel="stylesheet" />
		
		 <!-- third party css -->
        <link href="https://www.staging.trucsr.in/skin/admin/assets/libs/datatables/dataTables.bootstrap4.css" rel="stylesheet" type="text/css" />
        <link href="https://www.staging.trucsr.in/skin/admin/assets/libs/datatables/responsive.bootstrap4.css" rel="stylesheet" type="text/css" />
        <link href="https://www.staging.trucsr.in/skin/admin/assets/libs/datatables/buttons.bootstrap4.css" rel="stylesheet" type="text/css" />
        <link href="https://www.staging.trucsr.in/skin/admin/assets/libs/datatables/select.bootstrap4.css" rel="stylesheet" type="text/css" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>		
		<script src="https://www.staging.trucsr.in/skin/js/bootstrap.min.js"></script>
		<script src="https://www.staging.trucsr.in/skin/js/bootstrap-datepicker.min.js"></script>
		<script type="text/javascript" src="https://www.staging.trucsr.in/skin/admin/js/custom.js"></script>
        <!-- third party css end -->
		
		<!-- Optional theme -->
		<!--link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"-->

		<!-- Latest compiled and minified JavaScript -->
		<!--script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script-->
		
		<link href="../../css/main.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
<!-- Begin page -->
    <div id="wrapper">
		
	<!-- Topbar Start -->
	<div class="navbar-custom">
		<ul class="list-unstyled topnav-menu float-right mb-0">
		
			<li class="dropdown notification-list">
				<a class="nav-link dropdown-toggle  waves-effect waves-light" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false" id="dropdown-notification">
	<i class="fe-bell noti-icon"></i>
		
</a>
<div class="dropdown-menu dropdown-menu-right dropdown-lg">

	<!-- item-->
	<!--div class="dropdown-item noti-title">
		<h5 class="m-0">
			<span class="float-right">
				<a href="#" class="text-dark">
					<small>Clear All</small>
				</a>
			</span>Notification
		</h5>
	</div-->
		<div class="slimscroll noti-scroll">
					<!-- item-->
			
			<a href="/admin.php/partner/verify/124" class="dropdown-item notify-item " onclick="notificationUpdate(2567)"> 
				<div class="notify-icon bg-warning">
					<i class="mdi mdi-account-plus"></i>
				</div>
				<p class="notify-details">ds sf has been assigned to you, please proceed with the verification.</p>
				<p class="text-muted mb-0 user-msg">
					
					<small>
					6 days ago
					</small>
				</p>
			</a>
			<hr>
					<!-- item-->
			
			<a href="" class="dropdown-item notify-item active" onclick="notificationUpdate(2566)"> 
				<div class="notify-icon bg-warning">
					<i class="mdi mdi-account-plus"></i>
				</div>
				<p class="notify-details">Details for Project - Edit Functionality Support our COVID-19 relief work Details has been edited, <br>Project Fund Type</p>
				<p class="text-muted mb-0 user-msg">
					
					<small>
					12 days ago
					</small>
				</p>
			</a>
			<hr>
					<!-- item-->
			
			<a href="/admin.php/project/viewProject/108" class="dropdown-item notify-item " onclick="notificationUpdate(2564)"> 
				<div class="notify-icon bg-warning">
					<i class="mdi mdi-account-plus"></i>
				</div>
				<p class="notify-details"><b>Ushadsd Das</b> project/program is assigned to you. Please review and make it live.</p>
				<p class="text-muted mb-0 user-msg">
					
					<small>
					12 days ago
					</small>
				</p>
			</a>
			<hr>
	</div>

	<!-- All-->
	<a href="/admin.php/notifications" class="dropdown-item text-center text-primary notify-item notify-all">
		View all
		<i class="fi-arrow-right"></i>
	</a>
	</div>
<script>
$(document).ready(function(){

	$('#dropdown-notification').click(function(){
		 $.ajax({
			type:"POST",
			url: BASE_URL+"admin.php/user/notificationCountUpdate",
			success:function(resopnse){
				$('.noti-icon-badge').css('display','none');
				//console.log("abc");
				//location.reload();
			} 
		});
	});

});

function notificationUpdate(id){
	
	 $.ajax({
        type:"POST",
        url: BASE_URL+"admin.php/user/notificationUpdate",
        data:'id='+id,
        success:function(data){
			console.log(id);
            //location.reload();
        } 
    });
	
}
</script>			
</li>
		
			<li class="dropdown notification-list">
				<a class="nav-link dropdown-toggle nav-user mr-0 waves-effect waves-light" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
															<span id="countdown"></span>
					<span class="pro-user-name ml-1">
						Relational Manager						<i class="mdi mdi-chevron-down"></i> 
					</span>
									</a>
				<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
					<!-- item-->
					<div class="dropdown-header noti-title">
						<h6 class="text-overflow m-0">Welcome !<br>Ranju Patel</h6>
					</div>

					<!-- item-->
					<a href="https://www.staging.trucsr.in/admin.php/user/logout" class="dropdown-item notify-item">
						<i class="fe-log-out"></i>
						<span>Logout</span>
					</a>

				</div>
			</li>
		</ul>
		<!-- LOGO start-->
		<div class="logo-box">
			<a href="/admin.php/user/main" class="logo text-center">
				<span class="logo-lg">
					<img src="https://www.staging.trucsr.in/skin/images/truCSR_logo.png" alt="" height="18">
					<!--span class="logo-lg-text-light">truCSR</span--> 
				</span>
				<span class="logo-sm">
					<!--span class="logo-sm-text-dark">truCSR</span-->
					<img src="https://www.staging.trucsr.in/skin/images/truCSR_logo.png" alt="" height="13">
				</span>
			</a>
		</div>
		<!-- LOGO end-->
		<ul class="list-unstyled topnav-menu topnav-menu-left m-0">
			<li>
				<button class="button-menu-mobile waves-effect waves-light">
					<i class="fe-menu"></i>
				</button>
			</li>
		</ul>	
		
	</div>
	<!-- end Topbar -->
		<!-- ========== Left Sidebar Start ========== -->
<div class="left-side-menu">

	<div class="slimscroll-menu">

		<!--- Sidemenu -->
		<div id="sidebar-menu">
        	<ul class="metismenu" id="side-menu">
				<li>
					<a href="#" class="" aria-expanded="false">
						<i class="fe-airplay"></i>
						<span> Administrator Home </span>
					</a>
				</li>
				<li>
					<a href="#" class="" aria-expanded="false">
						<i class="fe-users"></i>
						<span>User Management</span>
					</a>
				</li>
				<li>
					<a href="#" class="" aria-expanded="false">
						<i class="fe-folder-minus"></i>
						<span>Implementer </span>
					</a>
				</li>
				<li>
					<a href="#" class="" aria-expanded="false">
						<i class="fe-folder-plus"></i>
						<span>Contributor </span>
					</a>
				</li>
				<li>
					<a href="#" class="" aria-expanded="false">
						<i class="fe-folder-plus"></i>
						<span>Donations </span>
					</a>
				</li>
				<li>
										
					<a href="#" class="" aria-expanded="false">
						<i class="fe-sidebar"></i>
						<span>Projects</span>
					</a>
				</li>
				
				<li>
										
					<a href="#" class="" aria-expanded="false">
						<i class="fe-briefcase"></i>
						<span>Billing Management</span>
					</a>
				</li>

				<li>
										
					<a href="#" class="active" aria-expanded="false">
						<i class="fe-briefcase"></i>
						<span>Reports </span>
						<span class="fa arrow"></span>
					</a>
					<ul class="nav nav-second-level  collapse" ><li><a href="">Donation Reports</a></li></ul>
				</li>


				<li>
					<a href="#" class="" aria-expanded="false">
						<i class="fe-lock"></i>
						<span>Contracts</span>
					</a>
				</li>			
				<li>
					<a href="#" class="" aria-expanded="false">
						<i class="fe-message-square"></i>
						<span>Newsletter Management </span>
					</a>
				</li>
				<li>
					<a href="#" class="" aria-expanded="false">
						<i class="fe-user"></i>
						<span>My Account</span>
					</a>
				</li>
			</ul>
		</div>
		<!-- End Sidebar -->

		<div class="clearfix"></div>

	</div>
	<!-- Sidebar -left -->

</div>
<!-- Left Sidebar End -->		
		<div class="content-page">
			<div class="content">

<!-- Start Content-->
<div class="container-fluid">
					
					<!-- start page title -->
					<div class="row">
						<div class="col-12">
							<div class="page-title-box">
								<h4 class="page-title">Report &nbsp; <i class="fa fa-angle-right "></i> &nbsp; Donation Report </h4>
							</div>
						</div>
					</div>     
					<!-- end page title --> 
					
					<div class="row">
                        <div class="card-box donation-report-box col-sm-12">
							<div class="row">
							<div class="donation-search col-sm-5"><input type="text" class="form-control" placeholder="Search and Select NGO" value="Sanjivini NGO"><span class="search-icon"><i class="fa fa-search"></i></span></div>
							<div class="select-duration-month col-sm-3"><input type="text" class="form-control" placeholder="Search and Select NGO" value="01 Jul 2021 &#62; 30 Aug 2021 "></div>
							<div class="select-duration-month col-sm-4"><button  class="btn btn-secondary  waves-effect float-right">Generate Report</button></div>
							</div>

						</div>
					</div>

					<div class="row">
						<div class="col-sm-12 card-box">
							<div class="select-ngo row">
								<div class="col-sm-4 donation-col"> 
								<p><span>Implementor :</span> Sanjivini NGO</p>
								<p><span>From date :</span> 01 Jul 2021</p> 
								<p><span>To date :</span> 30 Aug 2021</p> 
								</div>
								<div class="col-sm-4 donation-col dot-col-2"> 
								<p><span>Donation raised :</span> <strong> ₹1,10,00,000</strong></p> 
								<p><span>Amount Deducted (Incl GST) :</span> <strong> ₹8,80,000</strong></p> 
								<p><span>Amount Settled in NGO Account :</span> <strong> ₹1,01,20,000</strong></p> 
								</div>
								<div class="col-sm-4 donation-col"> 
									<button class="btn btn-dark float-right">Download Consolidated Report</button>
								</div>
							</div>

						</div>
					</div> <!-- end row-->

					<div class="row">
						<div class="col-sm-12 card-box">
							<h4>Project wise details</h4>
							<div class="overflow-table table">
								<table class="dataTable">
									<thead>
										<tr>
											<td class="tableheading ">Project Name</td>
											<td class="tableheading text-center">Duration </td>
											<td class="tableheading text-center">Donation Raised</td>
											<td class="tableheading text-center">Deducted Amount with GST</td>
											<td class="tableheading text-center">Settled  Amount </td>
											<td class="tableheading ">&nbsp;</td>
										</tr>
									</thead>

									<tbody>
										<tr>
											<td>Times to Survive</td>
											<td class="text-center">01 Jun 2021 &nbsp;&nbsp;&nbsp;&nbsp; 30 Aug 2021 </td>
											<td class="text-center">₹10,00,000</td>
											<td class="text-center">₹80,000</td>
											<td class="text-center">₹92,00,000 </td>
											<td><button class="btn btn-dark">Download</button></td>
										</tr>

										<tr>
											<td>Oxygen for Covid Patients</td>
											<td class="text-center">01 Jun 2021 &nbsp;&nbsp;&nbsp;&nbsp; 30 Aug 2021 </td>
											<td class="text-center">₹10,00,000</td>
											<td class="text-center">₹80,000</td>
											<td class="text-center">₹92,00,000 </td>
											<td><button class="btn btn-dark">Download</button></td>
										</tr>
									</tbody>
								</table>
							</div>
						</div><!-- col-sm-12 -->
					</div>

					<div class="text-right">
					<a class="btn btn-dark" href="donation-report.html"> Donation report 1 </a>
					</div>
					
				</div> <!-- container -->


</div> <!-- content -->


<!-- Footer Start -->
	<!-- Footer Start -->
<footer class="footer">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-6">
				2015 - 2019 &copy; truCSR theme by <a href="#">truCSR</a> 
			</div>
			<div class="col-md-6">
				<div class="text-md-right footer-links d-none d-sm-block">
					<a href="javascript:void(0);">About Us</a>
					<a href="javascript:void(0);">Help</a>
					<a href="javascript:void(0);">Contact Us</a>
				</div>
			</div>
		</div>
	</div>
</footer>
<!-- end Footer -->
		
		
		<!-- Right bar overlay-->
        <div class="rightbar-overlay"></div>

        <!-- Vendor js -->
        <script src="https://www.staging.trucsr.in/skin/admin/assets/js/vendor.min.js"></script>

        <!-- Plugins js-->
        <script src="https://www.staging.trucsr.in/skin/admin/assets/libs/flatpickr/flatpickr.min.js"></script>
		<script src="https://www.staging.trucsr.in/skin/admin/assets/libs/datatables/jquery.dataTables.min.js"></script>
        <!--<script src="assets/libs/jquery-knob/jquery.knob.min.js"></script>
        <script src="assets/libs/jquery-sparkline/jquery.sparkline.min.js"></script>
        <script src="assets/libs/flot-charts/jquery.flot.js"></script>
        <script src="assets/libs/flot-charts/jquery.flot.time.js"></script>
        <script src="assets/libs/flot-charts/jquery.flot.tooltip.min.js"></script>
        <script src="assets/libs/flot-charts/jquery.flot.selection.js"></script>
        <script src="assets/libs/flot-charts/jquery.flot.crosshair.js"></script--> 
		
		<!-- Main Quill library -->
		<script src="//cdn.quilljs.com/1.3.6/quill.js"></script>
		<script src="//cdn.quilljs.com/1.3.6/quill.min.js"></script>

		<!-- Theme included stylesheets -->
		<link href="//cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
		<link href="//cdn.quilljs.com/1.3.6/quill.bubble.css" rel="stylesheet">
		
		<!-- Initialize Quilljs editor -->
		<script type="text/javascript" src="https://www.staging.trucsr.in/skin/admin/assets/js/quill/quill-textarea.js"></script>	
		<script type="text/javascript" src="https://www.staging.trucsr.in/skin/admin/assets/js/quill/form-quilljs.init.js"></script>	
		
		<!-- Initialize ck editor -->
		<!--<script src="https://cdn.ckeditor.com/4.14.1/full/ckeditor.js"></script>-->

        <!-- Dashboar 1 init js-->
        <!--script src="assets/js/pages/dashboard-1.init.js"></script-->

        <!-- App js-->
        <script src="https://www.staging.trucsr.in/skin/admin/assets/js/app.min.js"></script>
					
		<!--script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script-->
		<script src="https://www.staging.trucsr.in//skin/js/jquery.validate.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
		<link rel="stylesheet" href="https://www.staging.trucsr.in/skin/css/jquery.multiselect.css" >
		<script src="https://www.staging.trucsr.in/skin/js/jquery.multiselect.js"></script>	
			<!-- Modal - Common View Popup -->
	<div class="modal fade center" id="truCSRModalView" role="dialog">
		<div class="modal-dialog modal-dialog-centered modal-lg">
		<!--Content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				  <span aria-hidden="true">&times;</span>
				</button>
			</div>
			<!--Body-->
			<div class="modal-body">
				<div class="embed-responsive embed-responsive-16by9">
					<iframe class="embed-responsive-item" id="iframe" src="" allowfullscreen="true"></iframe>
				</div>
			</div>
		</div>
		<!--/.Content-->
		</div>
	</div>
        			<!-- end Footer -->
		</div>
	</div>
	<script>
$(document).ready(function () { 
$(".payment-info-div").hide();
$(".upload-invoice-tab").click(function(){
  $(".basic-info-div").show();
  $(".payment-info-div").hide();
});
$(".payment-history-tab").click(function(){
  $(".basic-info-div").hide();
  $(".payment-info-div").show();
});

$('.tab-nav ul li').on('click', function(){
    $('li.active').removeClass('active');
    $(this).addClass('active');
});
});

		$(document).ready(function () { 
		
			if(location.hash == "#project-step-2"){
				setTimeout(function() { 
					$('#step-2').trigger('click');	
				});
				
				history.pushState('', '', window.location.pathname);
			}	
			
			if(location.hash == "#project-step-3"){
				setTimeout(function() { 
					$('#step-3').trigger('click');	
				});
				
				history.pushState('', '', window.location.pathname);
			}	
			
			if(location.hash == "#project-step-4"){
				setTimeout(function() { 
					$('#step-4').trigger('click');	
				});
				
				history.pushState('', '', window.location.pathname);
			}
			
			if(location.hash == "#project-step-5"){
				setTimeout(function() { 
					$('#step-5').trigger('click');	
				});
				
				history.pushState('', '', window.location.pathname);
			}	
			
			if(location.hash == "#project-step-7"){
				setTimeout(function() { 
					$('#step-7').trigger('click');	
				});
				
				history.pushState('', '', window.location.pathname);
			}
			
			$('#proSector').multiselect({
				//search: true,
				//selectAll: true
				texts    : {
				placeholder: 'Select Sector/s',
			}
			});
			
			$('#proBeneficiary').multiselect({
				//search: true,
				//selectAll: true
				texts    : {
				placeholder: 'Choose the beneficiarie/s',
			}
			});
			
			convertToINRFormat($("#proTotalCost").val(),$("#proTotalCost"));	
	
			convertToINRFormat($("#proDonationAmt").val(),$("#proDonationAmt"));	
			
			$("input[name='proType']").change(function() {
				if(this.checked) {
					var val = $(this).val();
					//alert(val)
					if( val == 1){  //1 - Specific 
						$('#proTargetBlock').hide();
						$('#proScheduleBlock').show();
						$('#installment-container').show();
						// $('#proDateFrom').valid();
						// $('#proDateTo').valid();
					}
					
					if( val == 2 ){ //2- Reccurring
						$('#proTargetBlock').show();
						$('#installment-container').hide();
						$('#proScheduleBlock').hide();
						// $('#proTarget').valid();
						// $('#proTargetText').valid();
						// $('#proTargetFrequency').valid();
					}
				}
			});
			
			$('#edit-project-details').on('click',function(){
				$('#editDetailsPopup').modal('show');
			})
			
			$('#edit-project-desc').on('click',function(){
				$('#editDescPopup').modal('show');
			})
			
			$('#edit-short-project-desc').on('click',function(){
				$('#editshortDescPopup').modal('show');
			})
			
			$('#edit-fund-setup').on('click',function(){
				$('#addFundSetupPopup').modal('show');
			})
			
			$('#').on('click',function(){
				$('#addAlrecdFundPopup').modal('show');
			})
			
			$('#upload-cover-img').on('click',function(){
				$('#uploadCoverImagePopup').modal('show');
			})
			
			$('#upload-gallery-img').on('click',function(){
				$('#uploadGalleryImagePopup').modal('show');
			})
			
			$('#edit-problem-stmt').on('click',function(){
				$('#editProblemStmtPopup').modal('show');
			})
			
			$('#add-goal-data').on('click',function(){
				$('#AddGoalDataPopup').modal('show');
			})
			
			$('#edit-goals-data').on('click',function(){
				$('#editGoalDataPopup').modal('show');
			})
			
			$('#edit-sdgs-data').on('click',function(){
				$('#editSDGSGoalPopup').modal('show');
			})
			
			$('#edit-reporting-data').on('click',function(){
				$('#editReportingPopup').modal('show');
			})
			
			 $('#proceed-btn').on('click',function(){
				project_id= 108;
				status = $("input:radio[name='status']:checked").val();
				rejectReason = $("#rejectReason").val();
				if(status == 2 && rejectReason == ''){
					$("#rejectReason").focus();
					return false;
				}
				if (project_id != '' && status != '')
				{
					//alert(corporate_id);false;
					$.ajax({
						type: "POST",
						url:  "https://www.staging.trucsr.in/admin.php/project/updateStatus",
						dataType: 'json',
						//data: {status:statusvalue,user_id:id},
						data: 'status='+status+'&project_id='+project_id+'&remark='+rejectReason,
						success: function(response)
						{
							if (response.flag == '1') {
								$('#concludePopup').modal('hide');	
								swal({
									icon: "success",
									text: response.msg,
									buttons: false,						
								})
								
								window.location.href =response.redirect;
							
								setTimeout(function() {
									//window.location.href = response.redirect;
									location.reload();
								}, 1000);
							} 
							else {
								swal({
									icon: "error",
									text: response.msg,
									buttons: false,
								})
								setTimeout(function() {
									location.reload();
								}, 1000);
							}					
						}
				
					}); 
				}				
			});
			
			$('#conclude').on('click',function(){
				$('#concludePopup').modal('show');
			})
			
			$('.chk-radio').on('click',function(){
				statusRadio = $("input:radio[name='status']").is(":checked");
				if (statusRadio) {
					var radioValue = $("input[name='status']:checked").val();
					if(radioValue == 2){
						$('#reject-reason-block').show();
					}else{
						$('#reject-reason-block').hide();
					}
					$("#rejectReason").val('');
					$('#proceed-btn').removeAttr('disabled');
					$('#submit-btn-blk').show();
				}
			})
			
			$("#editDetailsForm").validate({

				ignore: ':hidden:not("#proSector,#proBeneficiary")',
				rules: { 
					proName: {
						required: true,
						maxlength: 250 
					},
					proType: {
					  required: true,        
					},
					proDateFrom: {
					  required: function() {
							return $('[name="proType"]:checked').val() == 1; 
						},        
					},
					proDateTo: {
					  required:  function() {
							return $('[name="proType"]:checked').val() == 1; 
						},        	      
					},
					total_beneficiaries: {
			          required: function() {
							return $('[name="proType"]:checked').val() == 2; 
						},        
			        },
					serve_beneficiaries: {
			          required:  function() {
							return $('[name="proType"]:checked').val() == 2; 
						},        	      
			        },
					frequency_beneficiaries: {
			          required:  function() {
							return $('[name="proType"]:checked').val() == 2; 
						},        	      
			        },
					// proTarget: {
					//   required: function() {
					// 		return $('[name="proType"]:checked').val() == 2; 
					// 	},        
					// },
					// proTargetText: {
					//   required:  function() {
					// 		return $('[name="proType"]:checked').val() == 2; 
					// 	},        	      
					// },
					// proTargetFrequency: {
					//   required:  function() {
					// 		return $('[name="proType"]:checked').val() == 2; 
					// 	},        	      
					// },
					proPincode: {
					  required: true, 
					  number: true,
					  maxlength: 6,        
					  minlength: 6, 	
					},
					proState: {
					  required: true,        
					},
					proDistrict: {
					  required: true,        
					},
					proCity: {
					  required: true,        
					},
					"proSector[]": {
					  required: true,
						minlength: 1
					},
					proTotalCost: {
					  required: true, 
					  proTotalCost: '#proDonationAmt'		  
					},
					"proBeneficiary[]": {
					  required: true,
						minlength: 1
					},
					proDonationAmt: {
					  required: true, 
					  proDonationAmt: '#proTotalCost'		  
					}
				},

				submitHandler: function(form) { 		

					var fd = new FormData($('#editDetailsForm')[0]);
					
					$.ajax({
					type: "POST",
					url:  "https://www.staging.trucsr.in/admin.php/project/updateProjectDetails",
					dataType: 'json',
					contentType: false,
					processData: false,
					data:fd,       
					success: function(response) {
						console.log(response);
					  
						if (response.flag == '1') {
							swal({
							icon: "success",
							text: response.msg,
							buttons: false,						
							})
							setTimeout(function() {
							  window.location.reload();
							 }, 1000);
						} else {
							swal({
							icon: "error",
							text: response.msg,
							buttons: false,
							})
							setTimeout(function() {
							location.reload();
							}, 1000);
							 //$('#error_msg').text(response.msg);
						}
					}
					
					});	
				}
			});
			
			$("#editProjectDescForm").validate({
				rules: { 
					proDescription: {
						required: true,
						wordCount: 500
					}, 
				},
				submitHandler: function(form) { 		

					var fd = new FormData($('#editProjectDescForm')[0]);
					
					$.ajax({
					type: "POST",
					url:  "https://www.staging.trucsr.in/admin.php/project/updateProjectDescDetails",
					dataType: 'json',
					contentType: false,
					processData: false,
					data:fd,       
					success: function(response) {
						console.log(response);
					  
						if (response.flag == '1') {
							swal({
							icon: "success",
							text: response.msg,
							buttons: false,						
							})
							setTimeout(function() {
							  window.location.reload();
							 }, 1000);
						} else {
							swal({
							icon: "error",
							text: response.msg,
							buttons: false,
							})
							setTimeout(function() {
							location.reload();
							}, 1000);
							 //$('#error_msg').text(response.msg);
						}
					}
					
					});	
				}
			});
			
			
			$("#editProjectShortDescForm").validate({
				rules: { 
					proshortDescription: {
						required: true,
						maxlength: 250 
					},
				},
				submitHandler: function(form) { 		

					var fd = new FormData($('#editProjectShortDescForm')[0]);
					
					$.ajax({
					type: "POST",
					url:  "https://www.staging.trucsr.in/admin.php/project/updateProjectShortDescDetails",
					dataType: 'json',
					contentType: false,
					processData: false,
					data:fd,       
					success: function(response) {
						console.log(response);
					  
						if (response.flag == '1') {
							swal({
							icon: "success",
							text: response.msg,
							buttons: false,						
							})
							setTimeout(function() {
							  window.location.reload();
							 }, 1000);
						} else {
							swal({
							icon: "error",
							text: response.msg,
							buttons: false,
							})
							setTimeout(function() {
							location.reload();
							}, 1000);
							 //$('#error_msg').text(response.msg);
						}
					}
					
					});	
				}
			});
			
			$("#editProblemStmtPopupForm").validate({
				rules: { 
					prblmDescription: {
					  required: true, 
					  //maxlength: 3000
					  wordCount: 150
					},
				},
				submitHandler: function(form) { 		

					var fd = new FormData($('#editProblemStmtPopupForm')[0]);
					
					$.ajax({
					type: "POST",
					url:  "https://www.staging.trucsr.in/admin.php/project/updateProblemStmtDetails",
					dataType: 'json',
					contentType: false,
					processData: false,
					data:fd,       
					success: function(response) {
						console.log(response);
					  
						if (response.flag == '1') {
							swal({
							icon: "success",
							text: response.msg,
							buttons: false,						
							})
							window.location.href =response.redirect
							setTimeout(function() {
							  window.location.reload();
							 }, 1000);
						} else {
							swal({
							icon: "error",
							text: response.msg,
							buttons: false,
							})
							setTimeout(function() {
							location.reload();
							}, 1000);
							 //$('#error_msg').text(response.msg);
						}
					}
					
					});	
				}
			});
			
			// $.validator.addMethod('proTotalCost', function(value, element, param) {
			// 		value = value.replace(/\D/g, "");
			// 	  return parseInt(value) > parseInt($(param).val().replace(/\D/g, ""));
			// }, 'Total cost can not be lesser than or equal to donation amount');

			// $.validator.addMethod('proDonationAmt', function(value, element, param) {
			// 		value = value.replace(/\D/g, "");
			// 	  return parseInt(value) < parseInt($(param).val().replace(/\D/g, ""));
			// }, 'Min donation amount can not be greater than or equal to total cost');
			
			// $.validator.addMethod("wordCount", function(value, element, wordCount) {
			// 	return value.split(' ').length <= wordCount;
			// }, 'Exceeded word count');

			$.validator.addMethod('proTotalCost', function(value, element, param) {
				value = value.replace(/\D/g, "");
				var hi = parseInt($(param).val().replace(/\D/g, ""));
				if (isNaN(hi)){
					return true;
				}else{
					return parseInt(value) > hi; 
				}
			}, 'Total cost can not be lesser than or equal to donation amount'); 


			$.validator.addMethod('proDonationAmt', function(value, element, param) {
				value = value.replace(/\D/g, "");
				var hi = parseInt($(param).val().replace(/\D/g, ""));
				if (isNaN(hi)){
					return true;
				}else{
					return parseInt(value) < hi;
				}
			}, 'Min donation amount can not be greater than or equal to total cost');

			$.validator.addMethod("wordCount", function(value, element, wordCount) {
			    return value.split(' ').length <= wordCount;
			}, 'Exceeded word count');
		});
		
		function assignTo(assign_to_id,project_id)
		{
		  console.log(assign_to_id);
		  console.log(project_id);
		  console.log("10");
		//   alert();
		//   return false;
			swal({
				title: "Are you sure ??",
				text: "You Want To Perfom Action?", 
				//icon: "warning",
				buttons: true,
				className: 'swal-height',
				dangerMode: true,
			})
			.then((willDelete) => {
			if (willDelete) 
			{
				$.ajax({
				type: "POST",
				url:  "https://www.staging.trucsr.in/admin.php/project/assign",
				//data: {status:statusvalue,user_id:id},
				data: 'assign_to_id='+assign_to_id+'&project_id='+project_id+'&flag=',
				success: function(msg)
				{
					location.reload();
				}
				});  
			}else 
			  {
				swal({
						//icon: "warning",
						text: "Nothing has been changed",
						buttons: false,
					})
					window.location.reload();
			  }
			});
		}
		
		function updateDocumentStatus(project_id,doc_id,doc_type,status)
		{
			
			console.log(project_id)
			console.log(doc_id)
			console.log(doc_type)
			console.log(status)
			$('#documentPopup').modal('toggle');
			swal({
				title: "Are you sure ??",
				text: "You Want To Perfom Action?", 
				//icon: "warning",
				buttons: true,
				className: 'swal-height',
				dangerMode: true,
			})
			.then((willDelete) => {
			  if (willDelete) 
			  {
				$.ajax({
					url:"https://www.staging.trucsr.in/admin.php/project/updateDocumentStatus" ,
					type: 'post',
					data: {project_id: project_id, doc_id:doc_id, doc_type:doc_type, status:status} ,
					dataType: 'json',
					success: function(response) 
					{
						console.log(response);
						if (response.flag == '1') 
						{
							swal({
							icon: "success",
							text: response.msg,
							buttons: false,
							
							})
							
							window.location.href =response.redirect;
							
							setTimeout(function() {
								window.location.reload(true);
							}, 1000);
							
						} 
						else 
						{
							swal({
							//icon: "warning",
							text: response.msg,
							buttons: false,
							})
							window.location.reload();
						}
					}
				});
			  } 
			  else 
			  {
				swal({
						//icon: "warning",
						text: "Nothing has been changed",
						buttons: false,
					})
					window.location.reload();
			  }
			});
		}
		
		function readRecieptURL(input) {
			console.log(input.id);
			console.log(input.files);
		   
			if (input.files && input.files[0]) {
				$("#"+input.id).parent('.reciept-upload').hide();
				var file = input.files[0];
				var extension = file.name.split('.').pop().toLowerCase();
				
				console.log(file);
				console.log(extension);
				if ( /\.(jpe?g|png|pdf)$/i.test(file.name) ) {
					var reader = new FileReader();
					var pdfImage = BASE_URL+'skin/images/pdf-icon.png';
					
					reader.onload = function(e) {
						//$('#upload_img_' + input.id).attr('src', e.target.result);
						if(extension == 'pdf'){
							$("#upload_img_" + input.id).html("<span class=\"upload-file\">" + "<img class=\"imageThumb\" src=\"" + pdfImage + "\" width=\"100\" hieght=\"100\" title=\"" + file.name + "\"/>" + "<br/><span class=\"file-name\">" + file.name + "</span><span class=\"remove\">X</span>" + "</span>");
						}else{
							$("#upload_img_" + input.id).html("<span class=\"upload-file\">" + "<img class=\"imageThumb\" src=\"" + e.target.result + "\" width=\"100\" hieght=\"100\" title=\"" + file.name + "\"/>" + "<br/><span class=\"file-name\">" + file.name + "</span><span class=\"remove\">X</span>" + "</span>");
						}
						
						 $('#upload_img_' + input.id + " .remove").click(function(){
							// alert(input.id);
							// alert(111111111)
							$(this).parent(".upload-file").remove();
							$("#" + input.id).val('');
							$("#" + input.id).parent('.reciept-upload').show();
						  });
					}

					reader.readAsDataURL(input.files[0]);
				}else{
					$("#"+input.id).parent('.reciept-upload').show();
					swal({
						icon: "error",
						text: "Please select valid file type. The supported file types are .jpg, .png, .pdf",
						buttons: false,
						timer: 2000,
					})
				}
			}
		}

		function removeReciept(inputId){
			// alert(inputId);
			// alert(2222222222222)
			$('#upload_img_' + inputId).empty();
			$("#" + inputId).val('');
			$("#hidden" + inputId).val('');
			$("#hiddenGoalImage_" + inputId).val(''); 
			$("#" + inputId).parent('.reciept-upload').show();
		}
		
		function downloadFile(url)
		{
			if(url!=''){
				$('#truCSRModalView').modal();
				$('#iframe').attr("src", url);
			}
		}
	</script>
</body>
</html>